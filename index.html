<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<script type="text/javascript" src="js/scripts.js"></script>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Online image cropper</title>
	</head>
	<body onload="oic.begin()">

		<form id="main-form" onsubmit="return false;">
			<label>Input image:</label>
			<input type="url" id="input-url" oninput="oic.loadInputImage()" onpaste="oic.inputImagePasteHandler(event)">

			<label>Crop (top):</label>
			<div class="inline-group">
				<input type="range" id="input-crop-top" oninput="oic.formToSvg()" min="0" max="1" step="0.000976563" value="0">
				<input type="button" onclick="oic.toSquare(0)" value="full size" class="mini-button" />
				<input type="button" onclick="oic.toSquare(1/4)" value="3/4" class="mini-button" />
				<input type="button" onclick="oic.toSquare(1/2)" value="1/2" class="mini-button" />
				<input type="button" onclick="oic.toSquare(3/4)" value="1/4" class="mini-button" />
			</div>

			<label>Crop (bottom):</label>
			<input type="range" id="input-crop-bottom" oninput="oic.formToSvg()" min="0" max="1" step="0.000976563" value="1">
			
			<label>Crop (left):</label>
			<input type="range" id="input-crop-left" oninput="oic.formToSvg()" min="0" max="1" step="0.000976563" value="0">
			
			<label>Crop (right):</label>
			<input type="range" id="input-crop-right" oninput="oic.formToSvg()" min="0" max="1" step="0.000976563" value="1">

			<label>Round corners:</label>
			<div class="inline-group">
				<input type="range" id="input-round-corners" oninput="oic.formToSvg()" min="0" max="0.5" step="0.000976563" value="0">
				<input type="button" onclick="oic.toCircle(1)" value="circle" class="mini-button" />
				<input type="button" onclick="oic.toCircle(0)" value="rect/square" class="mini-button" />
			</div>

			<label>Output image:</label>
			<div class="inline-group">
				<input type="url" name="input" id="output-url" readonly="">
				<input type="button" onclick="oic.copyOutlink()" value="copy" class="mini-button" />
			</div>

			<input type="reset" value="Reset">
			<p><del>If image won't load within approx. 10 seconds, check developper console (Google Chrome: <em>Ctrl+Shift+J</em>, Firefox: <em>Ctrl+Shift+K</em>, Opera: <em>Ctrl+Shift+I</em>). If there is error simmilar to <em>"Acces to image blocked by CORS policy"</em>, try to convert image to <em>DataURI</em> (for example, <a href="https://dopiaza.org/tools/datauri/index.php">here</a>) and use image's DataURI instead of direct image URL.<del></p>
		</form>

		<div id="svg-wrapper">
			<svg width="10" height="10" id="svg-elem">
				<defs>
					<clipPath id="total-crop">
						<rect id="total-crop-rect"
							x="0" y="0" width="10" height="10" rx="0" ry="0" />
					</clipPath>
				</defs>

				<image id="image-to-crop"
					xlink:href="img/no-image.jpg" clip-path="url(#total-crop)"
					x="0" y="0" width="10" height="10" />
			</svg>
		</div>
	</body>
</html>
